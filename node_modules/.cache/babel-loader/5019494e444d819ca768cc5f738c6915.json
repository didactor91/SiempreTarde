{"ast":null,"code":"import _objectSpread from \"/Users/didactor/Documents/skylab/bootcamp/collab/skylab-bootcamp-201904/staff/groups/aldi/siempre-tarde/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport validate from '../../common/validate';\nimport call from '../../common/call';\nconst userApi = {\n  __url__: 'https://skylabcoders.herokuapp.com/api',\n  __timeout__: 0,\n\n  create(username, password, data) {\n    validate.arguments([{\n      name: 'username',\n      value: username,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'password',\n      value: password,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'data',\n      value: data,\n      type: 'object',\n      notEmpty: true,\n      optional: true\n    }]);\n    return call(\"\".concat(this.__url__, \"/user\"), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(_objectSpread({\n        username,\n        password\n      }, data)),\n      timeout: this.__timeout__\n    }).then(response => response.json());\n  },\n\n  authenticate(username, password) {\n    validate.arguments([{\n      name: 'username',\n      value: username,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'password',\n      value: password,\n      type: 'string',\n      notEmpty: true\n    }]);\n    return call(\"\".concat(this.__url__, \"/auth\"), {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        username,\n        password\n      }),\n      timeout: this.__timeout__\n    }).then(response => response.json());\n  },\n\n  retrieve(id, token) {\n    validate.arguments([{\n      name: 'id',\n      value: id,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'token',\n      value: token,\n      type: 'string',\n      notEmpty: true\n    }]);\n    return call(\"\".concat(this.__url__, \"/user/\").concat(id), {\n      headers: {\n        Authorization: \"Bearer \".concat(token)\n      },\n      timeout: this.__timeout__\n    }).then(response => response.json());\n  },\n\n  update(id, token, data) {\n    validate.arguments([{\n      name: 'id',\n      value: id,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'token',\n      value: token,\n      type: 'string',\n      notEmpty: true\n    }, {\n      name: 'data',\n      value: data,\n      type: 'object',\n      notEmpty: true\n    }]);\n    return call(\"\".concat(this.__url__, \"/user/\").concat(id), {\n      method: 'PUT',\n      headers: {\n        Authorization: \"Bearer \".concat(token),\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data),\n      timeout: this.__timeout__\n    }).then(response => response.json());\n  }\n\n};\nexport default userApi;","map":{"version":3,"sources":["/Users/didactor/Documents/skylab/bootcamp/collab/skylab-bootcamp-201904/staff/groups/aldi/siempre-tarde/src/data/user-api/index.js"],"names":["validate","call","userApi","__url__","__timeout__","create","username","password","data","arguments","name","value","type","notEmpty","optional","method","headers","body","JSON","stringify","timeout","then","response","json","authenticate","retrieve","id","token","Authorization","update"],"mappings":"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","sourcesContent":["import validate from '../../common/validate'\nimport call from '../../common/call'\n\nconst userApi = {\n    __url__: 'https://skylabcoders.herokuapp.com/api',\n    __timeout__: 0,\n\n    create(username, password, data) {\n        validate.arguments([\n            { name: 'username', value: username, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true },\n            { name: 'data', value: data, type: 'object', notEmpty: true, optional: true }\n        ])\n\n        return call(`${this.__url__}/user`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username, password, ...data }),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    authenticate(username, password) {\n        validate.arguments([\n            { name: 'username', value: username, type: 'string', notEmpty: true },\n            { name: 'password', value: password, type: 'string', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/auth`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ username, password }),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    retrieve(id, token) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string', notEmpty: true },\n            { name: 'token', value: token, type: 'string', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/user/${id}`, {\n            headers: { Authorization: `Bearer ${token}` },\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n\n    update(id, token, data) {\n        validate.arguments([\n            { name: 'id', value: id, type: 'string', notEmpty: true },\n            { name: 'token', value: token, type: 'string', notEmpty: true },\n            { name: 'data', value: data, type: 'object', notEmpty: true }\n        ])\n\n        return call(`${this.__url__}/user/${id}`, {\n            method: 'PUT',\n            headers: {\n                Authorization: `Bearer ${token}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(data),\n            timeout: this.__timeout__\n        })\n            .then(response => response.json())\n    },\n}\n\nexport default userApi"]},"metadata":{},"sourceType":"module"}